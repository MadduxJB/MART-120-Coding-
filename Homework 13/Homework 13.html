<!DOCTYPE html>
    <head>
        <title>Week 13 Assignment</title>
<script src="https://cdn.jsdelivr.net/npm/p5@1.11.1/lib/p5.min.js"></script>

<script>
    //Varibles

    //Character 
    var characterX = 100;
    var characterY = 100;
    var characterDiamter = 40;
    var caracterXSpeed;
    var characterYSpeed;

    //Key Codes
    var x = 100;
    var w = 87; 
    var s = 83;
    var a = 65;
    var d = 68;

    //Obstacles 
    var shapeX = 45;
    var shapeY = 60;
    
    var shapeXs = [];
    var shapeYs = [];
    var diameters = [];

    var shapeXSpeeds = [];
    var shapeYSpeeds = [];

    //Mouse Obstacle
    var mouseShapeX; 
    var mouseShapeY; 

function setup()
{
    createCanvas(450, 550);
    for (var i = 0; i < 8; i++){
   shapeXSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
   shapeYSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);

   shapeXs[i] = getRandomNumber(450);
   shapeYs[i] = getRandomNumber(600);
   diameters[i] = getRandomNumber(45);
    }
}    

function draw()
{
    for (var i = 0; i < shapeXs.length; i++)
    //Background&Borders
    createBorders();

    //Character
    createCharacter();

     //Character Movment
    characterMovment();
    
    //Mouse Character
    createMouseCharacter();

   //Obstcales
   fill(350,10,16);
   for (var i = 0; i < shapeXs.length; i++)
    {
    circle(shapeXs[i], shapeYs[i], diameters[i]);
    
    //Obstacle Speed
    shapeXSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
    shapeYSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
    
     //Obstcale Movment and Boundaries 
    shapeXs[i] += shapeXSpeeds[i];
    shapeYs[i] += shapeYSpeeds[i];
    
    if (shapeXs[i] > width) {
        shapeXs[i] = 0;
     }
    if (shapeXs[i] < 0) {
        shapeXs[i] = width;
     }
    if (shapeYs[i] > height) {
        shapeYs[i] = 0;
     }
    if (shapeYs[i] < 0) {
    shapeYs[i] = height;
     }
   
    }
    

   //Exit
   createExit();

   //You Win!!
   displayVictoryMessage();
}
   
    //Functions

    function mouseClicked()
    {
        rect(mouseShapeX,mouseShapeY,25,25)
    }

    function createBorders()
    {
        background(400,100,400);
        fill(153,0,153);
        rect(0,0,450,10);
        rect(0,0,10,550);
        rect(440,0,10,550);
        rect(0,540,170,10);
        rect(260,540,210,10);
    }

    function mouseClicked()
   {
        mouseShapeX = mouseX;
        mouseShapeY = mouseY;
   }

   function createCharacter()
   {
        fill(102,255,255);
        circle(characterX,characterY,characterDiamter);
   }    
        
   function characterMovment()
    {
    if(keyIsDown(w))
    {
        characterY -= 7;   
    }
    if(keyIsDown(s))
    {
        characterY += 7;   
    }
    if(keyIsDown(a))
    {
        characterX -= 7;   
        console.log("movement: " + characterX);
    }
    if(keyIsDown(d))
    {
        characterX += 7;   
    } 
   }

    function createExit()
    {
        fill(140,0,0)
        textSize(25);
        text("EXIT!", width-265, height -2)
    }

    function displayVictoryMessage()
    {
        if(characterX > width-265 && characterY > height -2)
      {
        fill(0);
        stroke(5);
        textSize(26);
        text("You Win!", width/2-50, height/2-50);
      }
    }

    function createMouseCharacter()
    {
        fill(20,20,250);
        circle(mouseShapeX, mouseShapeY, 50);
    }

    function mouseClicked()
    {
        mouseShapeX = mouseX;
        mouseShapeY = mouseY;
    }

    function getRandomNumber(number)
    {
        return Math.floor(Math.random() * number) + 10;
    }

</script>
        </head>
    <body>
    </body>
</html>